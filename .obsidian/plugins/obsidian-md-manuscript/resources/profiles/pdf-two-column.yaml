# pdf-two-column.yaml - Two-Column Layout
# Best for: Conference papers, technical reports, final proofs
#
# Description: Compact two-column layout similar to published articles.
#              Single-spaced, smaller margins.

profile:
  name: "Two-Column PDF"
  description: "Compact two-column layout for conference papers"
  format: pdf

# --- PDF Engine ---
pdf-engine: tectonic

# --- Reader/Writer ---
reader: markdown+mark+raw_html+raw_tex+implicit_figures

# --- Filters ---
# Custom filter to convert longtable to tabular for twocolumn compatibility
filters:
  - resources/html-formatting.lua
  - resources/color-text.lua
  - resources/underline.lua
  - resources/figure-callouts.lua
  - resources/table-callouts.lua
  - pandoc-crossref
  - citeproc
  - resources/no-longtable.lua

# --- Layout ---
variables:
  documentclass: article
  classoption: [twocolumn]
  papersize: a4
  geometry: ["top=2cm", "bottom=2cm", "left=1.5cm", "right=1.5cm"]
  
  # Typography
  mainfont: "Libertinus Serif"
  sansfont: "Libertinus Sans"
  monofont: "Libertinus Mono"
  fontsize: 10pt
  linestretch: 1.0
  
  # Paragraph style: European (gap) works better in two-column
  indent: false
  
  header-includes:
    - \usepackage{xcolor}
    - \usepackage{pdflscape}
    - \usepackage{adjustbox}
    - \usepackage{wrapfig}
    - \usepackage{float}
    - \usepackage[normalem]{ulem}
    - \providecolor{CTsemi}{RGB}{0,0,0}
    - \usepackage{cuted}
    - \providecommand{\mdtwocolumnstart}{\begin{strip}}
    - \providecommand{\mdtwocolumnend}{\end{strip}}
    - \makeatletter
    - \renewcommand{\paragraph}{\@startsection{paragraph}{4}{\z@}{-3.25ex \@plus -1ex \@minus -.2ex}{1.5ex \@plus .2ex}{\normalfont\normalsize\bfseries}}
    - \renewcommand{\subparagraph}{\@startsection{subparagraph}{5}{\z@}{-3.25ex \@plus -1ex \@minus -.2ex}{1.5ex \@plus .2ex}{\normalfont\normalsize\bfseries}}
    - \makeatother
    - \setlength{\parindent}{0pt}
    - \setlength{\parskip}{0.5\baselineskip}
    - \setlength{\columnsep}{0.8cm}
    # Bold caption labels (Figure 1:, Table 1:)
    - \usepackage{caption}
    - \captionsetup{labelfont=bf,labelsep=colon}
    # Better float placement for two-column
    - \usepackage{stfloats}
    - \renewcommand{\floatpagefraction}{0.8}
    - \renewcommand{\topfraction}{0.95}
    - \renewcommand{\bottomfraction}{0.95}
    - \renewcommand{\textfraction}{0.05}
    - \renewcommand{\dbltopfraction}{0.95}
    - \renewcommand{\dblfloatpagefraction}{0.8}
  
  # Colors
  colorlinks: true
  linkcolor: blue
  toccolor: black
  urlcolor: blue
  citecolor: blue
